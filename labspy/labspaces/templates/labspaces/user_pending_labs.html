{% extends 'labspaces/layout.html' %}

{% block title %}Pending Labs{% endblock %}

{% block content %}
    <h1 class="text-center">Pending requests</h1> 
    <hr>
    <div class="mx-auto w-75 p-3 d-flex gap-2 align-items-start justify-content-center flex-wrap">
    {% if pending_labs %}
        {% for lab in pending_labs %}
            <div class="card mb-3 bg-warning bg-gradient bg-opacity-50" style="min-width: 18rem; max-width: 22rem; height: 11rem;">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title text-center">{{ lab.name }}</h5>
                    <hr>
                    <b>Your request for this lab is still pending.</b>
                    <form method="post" action="{% url "labspaces:cancel_join_request" %}" class="text-center mt-auto">
                        {% csrf_token %}
                        <input type="hidden" name="lab_id" value="{{ lab.id }}">
                        <button type="submit" class="btn btn-danger mt-auto"> <i class="bi bi-ban"></i> Cancel request</button>
                    </form>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p class="text-center text-muted">You have no pending lab requests for the moment.</p>
    {% endif  %}
    </div>
{% endblock %}